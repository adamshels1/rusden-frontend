// Translation dictionary
export const translations = {
  ru: {
    // Navigation
    'nav.home': 'Главная',
    'nav.real_estate': 'Недвижимость',
    'nav.rent': 'Аренда',
    'nav.sale': 'Продажа',
    'nav.jobs': 'Работа',
    'nav.services': 'Услуги',
    'nav.goods': 'Товары',
    'nav.blog': 'Блог',
    'nav.about': 'О нас',
    'nav.contacts': 'Контакти',

    // Real Estate
    'realestate.title': 'Недвижимость в Турции',
    'realestate.apartments': 'Квартиры',
    'realestate.villas': 'Виллы',
    'realestate.houses': 'Дома',
    'realestate.land': 'Земля',
    'realestate.commercial': 'Коммерческая',
    'realestate.price': 'Цена',
    'realestate.rooms': 'Комнат',
    'realestate.area': 'Площадь',
    'realestate.location': 'Расположение',
    'realestate.description': 'Описание',

    // Jobs
    'jobs.title': 'Работа в Турции',
    'jobs.full_time': 'Полная занятость',
    'jobs.part_time': 'Частичная занятость',
    'jobs.salary': 'Зарплата',
    'jobs.company': 'Компания',
    'jobs.requirements': 'Требования',

    // Common
    'common.search': 'Поиск',
    'common.filter': 'Фильтр',
    'common.sort': 'Сортировка',
    'common.save': 'Сохранить',
    'common.share': 'Поделиться',
    'common.contact': 'Связаться',
    'common.view_more': 'Показать больше',
    'common.loading': 'Загрузка...',
    'common.error': 'Ошибка',
    'common.not_found': 'Не найдено',

    // SEO
    'seo.default_title': 'Rusden - Объявления в Турции',
    'seo.default_description': 'Платформа объявлений для русскоязычных в Турции. Недвижимость, работа, услуги и товары.',
    'seo.realestate_title': 'Недвижимость в Турции - купить, арендовать квартиру, виллу, дом',
    'seo.realestate_description': '🏡 Большой выбор недвижимости в Турции. Квартиры, виллы, дома в Стамбуле, Анталье, Бодруме. Проверенные объявления от собственников и агентств.',
    'seo.jobs_title': 'Работа в Турции для русскоязычных',
    'seo.jobs_description': '💼 Актуальные вакансии в Турции для русскоязычных специалистов. Работа в Стамбуле, Анталье и других городах.',
  },
  tr: {
    // Navigation
    'nav.home': 'Ana Sayfa',
    'nav.real_estate': 'Emlak',
    'nav.rent': 'Kiralık',
    'nav.sale': 'Satılık',
    'nav.jobs': 'İş',
    'nav.services': 'Hizmetler',
    'nav.goods': 'Ürünler',
    'nav.blog': 'Blog',
    'nav.about': 'Hakkımızda',
    'nav.contacts': 'İletişim',

    // Real Estate
    'realestate.title': 'Türkiye\'de Emlak',
    'realestate.apartments': 'Daireler',
    'realestate.villas': 'Villalar',
    'realestate.houses': 'Evler',
    'realestate.land': 'Arsa',
    'realestate.commercial': 'Ticari',
    'realestate.price': 'Fiyat',
    'realestate.rooms': 'Oda',
    'realestate.area': 'Alan',
    'realestate.location': 'Konum',
    'realestate.description': 'Açıklama',

    // Jobs
    'jobs.title': 'Türkiye\'de İş',
    'jobs.full_time': 'Tam Zamanlı',
    'jobs.part_time': 'Yarı Zamanlı',
    'jobs.salary': 'Maaş',
    'jobs.company': 'Şirket',
    'jobs.requirements': 'Gereksinimler',

    // Common
    'common.search': 'Ara',
    'common.filter': 'Filtre',
    'common.sort': 'Sırala',
    'common.save': 'Kaydet',
    'common.share': 'Paylaş',
    'common.contact': 'İletişim',
    'common.view_more': 'Daha fazla göster',
    'common.loading': 'Yükleniyor...',
    'common.error': 'Hata',
    'common.not_found': 'Bulunamadı',

    // SEO
    'seo.default_title': 'Rusden - Türkiye İlanları',
    'seo.default_description': 'Türkiye\'deki Rusça konuşanlar için ilan platformu. Emlak, iş, hizmetler ve ürünler.',
    'seo.realestate_title': 'Türkiye\'de Emlak - satılık, kiralık daire, villa, ev',
    'seo.realestate_description': '🏡 Türkiye\'de geniş emlak seçeneği. İstanbul, Antalya, Bodrum\'da daireler, villalar, evler. Sahiplerinden ve ajanslardan doğrulanmış ilanlar.',
    'seo.jobs_title': 'Türkiye\'de Rusça konuşanlar için iş',
    'seo.jobs_description': '💼 Türkiye\'de Rusça konuşan profesyoneller için güncel iş fırsatları. İstanbul, Antalya ve diğer şehirlerde iş.',
  },
  en: {
    // Navigation
    'nav.home': 'Home',
    'nav.real_estate': 'Real Estate',
    'nav.rent': 'For Rent',
    'nav.sale': 'For Sale',
    'nav.jobs': 'Jobs',
    'nav.services': 'Services',
    'nav.goods': 'Goods',
    'nav.blog': 'Blog',
    'nav.about': 'About',
    'nav.contacts': 'Contacts',

    // Real Estate
    'realestate.title': 'Real Estate in Turkey',
    'realestate.apartments': 'Apartments',
    'realestate.villas': 'Villas',
    'realestate.houses': 'Houses',
    'realestate.land': 'Land',
    'realestate.commercial': 'Commercial',
    'realestate.price': 'Price',
    'realestate.rooms': 'Rooms',
    'realestate.area': 'Area',
    'realestate.location': 'Location',
    'realestate.description': 'Description',

    // Jobs
    'jobs.title': 'Jobs in Turkey',
    'jobs.full_time': 'Full Time',
    'jobs.part_time': 'Part Time',
    'jobs.salary': 'Salary',
    'jobs.company': 'Company',
    'jobs.requirements': 'Requirements',

    // Common
    'common.search': 'Search',
    'common.filter': 'Filter',
    'common.sort': 'Sort',
    'common.save': 'Save',
    'common.share': 'Share',
    'common.contact': 'Contact',
    'common.view_more': 'View more',
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.not_found': 'Not found',

    // SEO
    'seo.default_title': 'Rusden - Turkey Classifieds',
    'seo.default_description': 'Classifieds platform for Russian speakers in Turkey. Real estate, jobs, services and goods.',
    'seo.realestate_title': 'Real Estate in Turkey - buy, rent apartment, villa, house',
    'seo.realestate_description': '🏡 Wide selection of real estate in Turkey. Apartments, villas, houses in Istanbul, Antalya, Bodrum. Verified listings from owners and agencies.',
    'seo.jobs_title': 'Jobs in Turkey for Russian speakers',
    'seo.jobs_description': '💼 Current job vacancies in Turkey for Russian-speaking professionals. Jobs in Istanbul, Antalya and other cities.',
  },
};

// Translation hook
export const useTranslation = (locale: string = 'ru') => {
  const t = (key: string, fallback?: string): string => {
    const value = translations[locale as keyof typeof translations]?.[key as keyof typeof translations.ru];
    if (value === undefined) {
      console.warn(`Translation missing for key: ${key} in locale: ${locale}`);
      return fallback || key;
    }
    return value;
  };

  const getLocaleDirection = (loc: string): 'ltr' | 'rtl' => {
    return 'ltr'; // All supported languages are LTR
  };

  const formatDate = (date: Date | string, options?: Intl.DateTimeFormatOptions): string => {
    const dateObj = typeof date === 'string' ? new Date(date) : date;
    return new Intl.DateTimeFormat(locale, {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      ...options,
    }).format(dateObj);
  };

  const formatNumber = (num: number, options?: Intl.NumberFormatOptions): string => {
    return new Intl.NumberFormat(locale, options).format(num);
  };

  const formatCurrency = (amount: number, currency: string = 'TRY'): string => {
    return new Intl.NumberFormat(locale, {
      style: 'currency',
      currency,
    }).format(amount);
  };

  return {
    t,
    locale,
    direction: getLocaleDirection(locale),
    formatDate,
    formatNumber,
    formatCurrency,
  };
};

// Get server-side translations
export const getServerSideTranslations = async (locale: string = 'ru', namespaces: string[] = ['common']) => {
  // In a real app, you might load translations from files or database
  const translations_dict = translations[locale as keyof typeof translations] || translations.ru;

  return {
    props: {
      translations: translations_dict,
      locale,
    },
  };
};